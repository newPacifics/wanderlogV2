<!-- 11ff8518-ab82-4d8e-8b7f-7011cc7e7b50 44c3a5ff-9bf0-4262-b4ca-35e933164c1c -->
# Lumina Digital Garden Integration Plan

## Overview

Transform WanderlogV2 into a full-featured digital garden by merging the complete Lumina prototype (Vite/React Router → Next.js App Router).

## Key Architectural Changes

### 1. Design System Migration

Replace WanderlogV2's minimal Tailwind config with Lumina's complete design system:

- **Fonts**: Add Google Fonts (Crimson Pro, Inter, JetBrains Mono) to [`app/layout.tsx`](app/layout.tsx)
- **Tailwind Config**: Replace [`tailwind.config.ts`](tailwind.config.ts) with Lumina's custom colors (`paper`, `ink`, `leaf`, `clay`, etc.)
- **Global Styles**: Update [`app/globals.css`](app/globals.css) with custom scrollbar styles and animations
- **Typography**: Configure @tailwindcss/typography plugin for prose styles

### 2. Dependencies Installation

Add required packages to [`package.json`](package.json):

- `react-router-dom` → Convert to Next.js navigation (`next/link`, `next/navigation`)
- `lucide-react` for icons
- `react-markdown` for rendering blog posts
- `@tailwindcss/typography` for prose styling

### 3. Core Data Structure

Create new type system and data layer:

- **[`lib/types.ts`](lib/types.ts)**: Define `ContentType`, `PostContent`, `WordContent`, `BookContent`, `DemoContent` interfaces
- **[`lib/data.ts`](lib/data.ts)**: Migrate sample content data from prototype
- **[`services/data.ts`](services/data.ts)**: If needed for extended functionality

### 4. Layout & Navigation

Replace basic layout with Lumina's sidebar navigation:

- **[`app/layout.tsx`](app/layout.tsx)**: Add theme state management, fonts, and metadata
- **[`components/Sidebar.tsx`](components/Sidebar.tsx)**: Create collapsible sidebar with navigation, theme toggle
- Add mobile menu support with overlay

### 5. Route Structure (Next.js App Router)

Transform Vite's React Router routes to Next.js file-based routing:

**Existing:**

- `app/page.tsx` → Homepage (replace with Lumina home)

**New Routes:**

- **[`app/page.tsx`](app/page.tsx)**: Digital garden homepage with "Recently Tended" section
- **`app/posts/page.tsx`**: Category page for Essays
- **`app/posts/[id]/page.tsx`**: Detail page for individual posts
- **`app/words/page.tsx`**: Category page for Lexicon
- **`app/words/[id]/page.tsx`**: Detail page for individual words
- **`app/library/page.tsx`**: Category page for Books
- **`app/library/[id]/page.tsx`**: Detail page for book notes
- **`app/engineering/page.tsx`**: Category page for Demos/Lab
- **`app/engineering/[id]/page.tsx`**: Detail page for interactive demos

### 6. Interactive Demos

Port Canvas-based visualizations to Next.js:

- **[`components/demos/SortingVisualizer.tsx`](components/demos/SortingVisualizer.tsx)**: Sorting algorithm visualization
- **[`components/demos/FractalTree.tsx`](components/demos/FractalTree.tsx)**: Interactive fractal tree generator
- Add 'use client' directive for client-side Canvas rendering

### 7. React Router → Next.js Conversions

- Replace `<Link>` from react-router-dom with `next/link`
- Replace `useParams()` with Next.js `params` prop
- Replace `useNavigate()` with `next/navigation` hooks (`useRouter`, `router.back()`)
- Convert `HashRouter` routing to App Router file structure

## Implementation Steps

1. **Update dependencies**: Install new packages and remove Vite-specific ones
2. **Configure design system**: Update Tailwind config, global CSS, and fonts
3. **Create type definitions**: Add `lib/types.ts` and `lib/data.ts`
4. **Build core components**: Create Sidebar component
5. **Update root layout**: Add theme management and sidebar to layout
6. **Migrate homepage**: Replace placeholder with digital garden homepage
7. **Create category pages**: Build listing pages for each content type
8. **Create detail pages**: Build individual content view pages
9. **Port interactive demos**: Convert Canvas components with 'use client'
10. **Test routing**: Verify all navigation and links work correctly
11. **Test theme toggle**: Verify dark/light mode switching
12. **Polish styling**: Ensure responsive design works on mobile/desktop

## Key Files to Create/Modify

### Create New:

- `lib/types.ts`, `lib/data.ts`
- `components/Sidebar.tsx`
- `components/demos/SortingVisualizer.tsx`
- `components/demos/FractalTree.tsx`
- `app/posts/page.tsx`, `app/posts/[id]/page.tsx`
- `app/words/page.tsx`, `app/words/[id]/page.tsx`
- `app/library/page.tsx`, `app/library/[id]/page.tsx`
- `app/engineering/page.tsx`, `app/engineering/[id]/page.tsx`

### Modify:

- `package.json`, `tailwind.config.ts`, `app/globals.css`
- `app/layout.tsx`, `app/page.tsx`

## Technical Notes

- **Client Components**: Demo components need `'use client'` for Canvas API
- **Dynamic Routes**: Use Next.js params prop instead of useParams
- **Metadata**: Add proper SEO metadata in layout and page files
- **Responsive Design**: Mobile-first with collapsible sidebar
- **Theme Persistence**: Consider localStorage for theme preference (optional)

### To-dos

- [ ] Install dependencies and update package.json
- [x] Update Tailwind config and global CSS with Lumina design tokens
- [x] Create lib/types.ts and lib/data.ts with content structure
- [x] Build Sidebar navigation component
- [x] Update app/layout.tsx with theme management and sidebar
- [x] Replace app/page.tsx with digital garden homepage
- [x] Create category list pages for posts, words, library, engineering
- [ ] Create detail pages with dynamic routing for all content types
- [ ] Port interactive demo components (SortingVisualizer, FractalTree)
- [ ] Test all routes, navigation, theme toggle, and responsive design